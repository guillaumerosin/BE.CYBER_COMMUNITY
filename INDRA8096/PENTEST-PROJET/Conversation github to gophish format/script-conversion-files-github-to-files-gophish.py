import os

def main():
    # Demander le chemin du dossier contenant les fichiers de modèles de courrier électronique
    folder_path = input("Veuillez entrer le chemin du dossier contenant les fichiers de modèles : ")

    # Demander le nom du fichier de sortie
    output_file = input("Veuillez entrer le nom du fichier de sortie : ")

    # Ouvrir le fichier de sortie en mode écriture
    with open(output_file, "w") as outfile:
        # Initialiser l'ID du modèle
        template_id = 1

        # Parcourir tous les fichiers du dossier
        for filename in os.listdir(folder_path):
            # Vérifier si le fichier est un fichier HTML
            if filename.endswith(".html"):
                # Lire le contenu du fichier
                with open(os.path.join(folder_path, filename), "r") as infile:
                    content = infile.read()

                # Écrire une ligne au format requis dans le fichier de sortie
                outfile.write(f"{template_id}|1|{filename}|||{content}|2024-02-18 14:48:00.820796314+00:00|\n")

                # Incrémenter l'ID du modèle
                template_id += 1

    print("Le fusionnement des modèles est terminé.")

if __name__ == "__main__":
    main()
