import shutil
import os

def copy_files(source_folder, destination_folder, folder_name):
    # Créer le dossier de destination s'il n'existe pas
    destination_folder = os.path.join(destination_folder, folder_name)
    if not os.path.exists(destination_folder):
        os.makedirs(destination_folder)

    # Parcourir tous les dossiers dans le dossier source
    for root, dirs, files in os.walk(source_folder):
        # Vérifier si le dossier actuel correspond à celui recherché
        if os.path.basename(root) == folder_name:
            # Copier tous les fichiers du dossier vers le dossier de destination
            for file in files:
                shutil.copy2(os.path.join(root, file), destination_folder)

def main():
    # Dossier racine où rechercher les dossiers "mail" et "landing"
    source_folder = "Stage"
    # Dossier parent où créer les dossiers de copies
    parent_destination_folder = os.path.dirname(source_folder)
    
    # Copier les fichiers du dossier "mail" dans un dossier "mail_copies"
    copy_files(source_folder, parent_destination_folder, "mail")
    
    # Copier les fichiers du dossier "landing" dans un dossier "landing_copies"
    copy_files(source_folder, parent_destination_folder, "landing")

if __name__ == "__main__":
    main()
